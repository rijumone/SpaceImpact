<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Space Impact</title>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.11.0/dist/phaser.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>

<body>
    <script type="text/javascript">

        var config = {
            type: Phaser.AUTO,  // renderer
            width: 840,         // dimensions
            height: 480,
            scene: {            // default scene
                preload: preload,
                create: create,
                update: update
            },
            backgroundColor: '#72B01D',
            physics: {
                default: 'arcade',
                arcade: {
                    // gravity: { y: 300 }, // else ship falls off screen :'D
                    debug: false
                }
            },

        };

        var player_ship;
        var alien_ship_0s;
        var cursors;

        function preload() {
            this.load.image('player_ship', 'assets/player_ship.png');
            this.load.image('alien_ship_0', 'assets/alien_ship_0.png');
        }

        function create() {
            player_ship = this.physics.add.image(80, 240, 'player_ship');
            alien_ship_0s = this.physics.add.group();

            for (i = 1; i <= 2; i++) {
                var alien_ship_0 = alien_ship_0s.create(
                    (700 / i), 100, 'alien_ship_0');
                alien_ship_0.setVelocity(-100, 50);
            }

            cursors = this.input.keyboard.createCursorKeys();

            this.physics.add.collider(
                player_ship, alien_ship_0s, alien_hit_player, null, this);
        }

        function update() {
            if (cursors.left.isDown) {
                player_ship.setVelocityX(-200);
                player_ship.setVelocityY(0);
            }
            else if (cursors.right.isDown) {
                player_ship.setVelocityX(200);
                player_ship.setVelocityY(0);
            }
            else if (cursors.up.isDown) {
                player_ship.setVelocityX(0);
                player_ship.setVelocityY(-200);
            }
            else if (cursors.down.isDown) {
                player_ship.setVelocityX(0);
                player_ship.setVelocityY(200);
            } else {
                player_ship.setVelocityX(0);
                player_ship.setVelocityY(0);
            }
        }

        function alien_hit_player() {
            this.physics.pause();
            console.log('Man down!')
        }

        // config being passed to instance of Phaser.game object
        var game = new Phaser.Game(config);




    </script>

</body>